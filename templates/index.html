{{ define "index-content" }}
<section class="content">
  {{ if .IsSearch }}
    <h2 class="content-title">Search results for "{{ .Query }}"</h2>
  {{ else if .Tag }}
    <h2 class="content-title">Posts tagged "{{ .Tag }}"</h2>
  {{ end }}

  {{ if eq (len .Posts) 0 }}
    <p class="empty-state">No posts found.</p>
  {{ else }}
    <div class="post-list">
      {{ range .Posts }}
        <article class="post-item">
          <h3><a class="post-link" href="/post/{{ .Slug }}">{{ .Title }}</a></h3>
          <div class="post-meta">
            <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">{{ .Date.Format "Jan 2, 2006" }}</time>
            {{ if .Tags }}
              <div class="tags">
                {{ range .Tags }}
                  <a class="tag" href="/tag/{{ . }}">{{ . }}</a>
                {{ end }}
              </div>
            {{ end }}
          </div>
        </article>
      {{ end }}
    </div>
  {{ end }}
</section>

{{ if and (not .Tag) (not .IsSearch) }}
<nav class="pagination">
  {{ if .HasPrev }}
    {{ if .IsFirst }}
      <a class="page-link prev" href="/" rel="prev">← Previous</a>
    {{ else }}
      <a class="page-link prev" href="{{ .PrevURL }}" rel="prev">← Previous</a>
    {{ end }}
  {{ end }}

  <span class="page-current">Page {{ .Page }}</span>

  {{ if .HasNext }}
    <a class="page-link next" href="{{ .NextURL }}" rel="next">Next →</a>
  {{ end }}
</nav>
{{ end }}
{{ end }}